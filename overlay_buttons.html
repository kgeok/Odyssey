<!--This is a Test for Overlay Buttons on GM JS API-->

<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Submarine</title>
    <meta name = "viewport" content = "width=device-width, minimum-scale=1.0, maximum-scale = 1.0, user-scalable = no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css" media="screen">
    <link rel="apple-touch-icon" sizes="180x180" href="https://github.com/kgeok/Odyssey/raw/main/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://github.com/kgeok/Odyssey/raw/main/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://github.com/kgeok/Odyssey/raw/main/icons/favicon-16x16.png">
    <link rel="manifest" href="https://github.com/kgeok/Odyssey/raw/main/icons/site.webmanifest">
    <link rel="mask-icon" href="https://github.com/kgeok/Odyssey/raw/main/icons/safari-pinned-tab.svg" color="#2b5797">
    <link rel="shortcut icon" href="https://github.com/kgeok/Odyssey/raw/main/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="msapplication-config" content="https://github.com/kgeok/Odyssey/raw/main/icons/browserconfig.xml">

<center>
<b>Submarine</b>
</center>

<script>

let release = "prod";
        let version = "0.3";
        let map;
        let markers = [];
        var PinColor = "#ff0000";
        var state = [];
        var caption = " ";
        var MarkerCounter = 0;
        var PinNum;
        var LoadState = new Object();
        var CurrCorrX;
        var CurrCorrX;







let sample_btn1 = document.createElement('div');
          sample_btn1.id = 'sample_btn1';
          sample_btn1.setAttribute('text', '');
          sample_btn1.innerHTML = "<svg height='15' width='15'><path fill-rule='evenodd' fill='#FFFFFF' d='M403 163.75 431.5 163.75 431.5 154 451 173.5 431.5 193 431.5 183.25 403 183.25Z' /></svg>";
          sample_btn1.setAttribute('onclick', 'alert()');
          sample_btn1.style.textAlign = "center";
          sample_btn1.style.padding = "20px 20px";
          sample_btn1.style.height = "30px";
          sample_btn1.style.width = "30px";
          sample_btn1.style.boxShadow = "0 2px 6px rgba(0,0,0,.3)";
          sample_btn1.style.marginBottom = "5px";
          sample_btn1.style.marginRight = "5px";
          sample_btn1.style.opacity = "0.9";
          sample_btn1.style.borderRadius = "50%";
          sample_btn1.style.verticalAlign = "middle";
          sample_btn1.style.fontSize = "26px";
          sample_btn1.style.backgroundColor = "#006994";
          sample_btn1.style.color = "#FFFFFF";
          sample_btn1.style.fontFamily = "'Quicksand', sans-serif";
          sample_btn1.style.fontWeight = "bolder";
          sample_btn1.style.cursor = "pointer";

          let sample_btn2 = document.createElement('input');
          sample_btn2.id = 'sample_btn2';
          sample_btn2.setAttribute('type', 'color');
          sample_btn2.setAttribute('onchange', 'changePinColor()');
          sample_btn2.style.textAlign = "center";
          sample_btn2.style.padding = "20px 20px";
          sample_btn2.style.height = "70px";
          sample_btn2.style.width = "70px";
          sample_btn2.style.boxShadow = "0 2px 6px rgba(0,0,0,.3)";
          sample_btn2.style.marginBottom = "5px";
          sample_btn2.style.marginRight = "5px";
          sample_btn2.style.opacity = "0.9";
          sample_btn2.style.borderRadius = "50%";
          sample_btn2.style.verticalAlign = "middle";
          sample_btn2.style.cursor = "pointer";




let clear_btn = document.createElement('div');
          clear_btn.id = 'clear_btn';
          clear_btn.setAttribute('text', '');
          clear_btn.innerHTML = "<span class='material-icons md-36'>clear</span>";
          clear_btn.setAttribute('onclick', 'alert()');
          clear_btn.style.textAlign = "center";
          clear_btn.style.padding = "20px 20px";
          clear_btn.style.height = "30px";
          clear_btn.style.width = "30px";
          clear_btn.style.boxShadow = "0 2px 6px rgba(0,0,0,.3)";
          clear_btn.style.marginBottom = "5px";
          clear_btn.style.marginRight = "5px";
          clear_btn.style.opacity = "0.9";
          clear_btn.style.borderRadius = "50%";
          clear_btn.style.verticalAlign = "middle";
          clear_btn.style.fontSize = "26px";
          clear_btn.style.backgroundColor = "#006994";
          clear_btn.style.color = "#FFFFFF";
          clear_btn.style.fontFamily = "'Quicksand', sans-serif";
          clear_btn.style.fontWeight = "bolder";
          clear_btn.style.cursor = "pointer";

let zoom_control_in = document.createElement('div');
          zoom_control_in.id = 'zoom_control_in';
          clear_btn.innerHTML = "<span class='material-icons md-36'>clear</span>";
          zoom_control_in.className = 'zoombtn';



function initMap() {
    map = new google.maps.Map(document.getElementById("map"), {
      center: { lat: 41.850033, lng: -87.6500523 },
      streetViewControl: false,
      rotateControl: true,
      zoom: 4,
      zoomControlOptions: {
      position: google.maps.ControlPosition.RIGHT_TOP,
    },
    });


    
    map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(clear_btn);
    map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(sample_btn2);
    map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(sample_btn1);
    map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(zoom_control_in);

    initZoomControl(map);
  initMapTypeControl(map);
  initFullscreenControl(map);

    map.addListener("click", (e) => {

      placeMarker(map, e.latLng, caption);

    });


    var decodedCookie = decodeURIComponent(document.cookie);

    console.log(decodedCookie);

  }

  function changePinColor(){ 
  PinColor = document.getElementById("sample_btn2").value;
  console.log(document.getElementById("sample_btn2").value);
  }

  function placeMarker(map, coor, title){
         //Using PinNum instead of MarkerCounter because of an unknown error in console otherwise
         state[PinNum] = coor;
         PinNum++;
         var marker =  new google.maps.Marker({

          position: coor,
          map: map,
          animation: google.maps.Animation.Drop,
          title: title,
          clickable: true,
          draggable: false,
          labelInBackground: false,
          labelClass: "label",
          icon: {
            path: "M123 1039 c-44 -22 -83 -82 -83 -129 0 -46 39 -108 80 -127 l39 -18 1 -292 0 -293 -30 0 -30 0 42 -85 c23 -47 45 -85 48 -85 3 0 25 38 48 85 l42 85 -30 0 -30 0 0 289 0 290 40 22 c42 24 80 85 80 129 0 44 -38 105 -79 128 -48 27 -84 28 -138 1z",
            fillColor: PinColor,
            fillOpacity: 0.6,
            strokeWeight: 1,
            rotation: 180,
            scale: 0.045,
            anchor: new google.maps.Point(190, 0),
 
          }
            
        });
      }

 //Beginning of custom controls

function initZoomControl(map) {
  document.getElementById("zoom_control_in").onclick = function () {
    map.setZoom(map.getZoom() + 1);
  };

  document.querySelector("zoom-control-out").onclick = function () {
    map.setZoom(map.getZoom() - 1);
  };
  
}

function initMapTypeControl(map) {
  const mapTypeControlDiv = document.querySelector(".maptype-control");

  document.querySelector(".maptype-control-map").onclick = function () {
    mapTypeControlDiv.classList.add("maptype-control-is-map");
    mapTypeControlDiv.classList.remove("maptype-control-is-satellite");
    map.setMapTypeId("roadmap");
  };

  document.querySelector(".maptype-control-satellite").onclick = function () {
    mapTypeControlDiv.classList.remove("maptype-control-is-map");
    mapTypeControlDiv.classList.add("maptype-control-is-satellite");
    map.setMapTypeId("hybrid");
  };
  map.controls[google.maps.ControlPosition.LEFT_TOP].push(mapTypeControlDiv);
}

function initFullscreenControl(map) {
  const elementToSendFullscreen = map.getDiv().firstChild;
  const fullscreenControl = document.querySelector(".fullscreen-control");
  map.controls[google.maps.ControlPosition.RIGHT_TOP].push(fullscreenControl);

  fullscreenControl.onclick = function () {
    if (isFullscreen(elementToSendFullscreen)) {
      exitFullscreen();
    } else {
      requestFullscreen(elementToSendFullscreen);
    }
  };

  document.onwebkitfullscreenchange =
    document.onmsfullscreenchange =
    document.onmozfullscreenchange =
    document.onfullscreenchange =
      function () {
        if (isFullscreen(elementToSendFullscreen)) {
          fullscreenControl.classList.add("is-fullscreen");
        } else {
          fullscreenControl.classList.remove("is-fullscreen");
        }
      };
}

function isFullscreen(element) {
  return (
    (document.fullscreenElement ||
      document.webkitFullscreenElement ||
      document.mozFullScreenElement ||
      document.msFullscreenElement) == element
  );
}

function requestFullscreen(element) {
  if (element.requestFullscreen) {
    element.requestFullscreen();
  } else if (element.webkitRequestFullScreen) {
    element.webkitRequestFullScreen();
  } else if (element.mozRequestFullScreen) {
    element.mozRequestFullScreen();
  } else if (element.msRequestFullScreen) {
    element.msRequestFullScreen();
  }
}

function exitFullscreen() {
  if (document.exitFullscreen) {
    document.exitFullscreen();
  } else if (document.webkitExitFullscreen) {
    document.webkitExitFullscreen();
  } else if (document.mozCancelFullScreen) {
    document.mozCancelFullScreen();
  } else if (document.msExitFullscreen) {
    document.msExitFullscreen();
  }
}

//End of custom controls     

        
</script>

<div id="map"></div>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD0KUvgW3e3ts3WkIob9RBzjGP6RvU7FeQ&callback=initMap&libraries=&v=weekly" async>


</script>

<!--

  @media (orientation: landscape) {

    .circlebtn {

      text-align: center;
      padding: 10px 10px;
      height: 20px;
      width: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,.3);
      margin-bottom: 1px;
      margin-right: 5px;
      opacity: 0.9;
      border-radius: 50%;
      vertical-align: middle;
      font-size: 5px;
      background-color: #00084A;
      color: #FFFFFF;
      font-family: 'Quicksand', sans-serif;
      font-family: bolder;
      cursor: pointer;
    
    }
  
    .circlebtn:active {
  
      text-align: center;
      padding: 10px 10px;
      height: 20px;
      width: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,.3);
      margin-bottom: 1px;
      margin-right: 5px;
      opacity: 0.9;
      border-radius: 50%;
      vertical-align: middle;
      font-size: 5px;
      background-color: #006994;
      color: #FFFFFF;
      font-family: 'Quicksand', sans-serif;
      font-family: bolder;
      cursor: pointer;
    
    } 

    #color_picker {

      text-align: center;
      padding: 10px 10px;
      height: 20px;
      width: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,.3);
      margin-bottom: 1px;
      margin-right: 5px;
      opacity: 0.9;
      border-radius: 50%;
      vertical-align: middle;
      font-size: 5px;
      color: #FFFFFF;
      font-family: 'Quicksand', sans-serif;
      font-family: bolder;
      cursor: pointer;
    
  
    }


  }



-->